(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{177:function(t,a,e){"use strict";e.r(a);var s=e(0),n=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"问题集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题集","aria-hidden":"true"}},[t._v("#")]),t._v(" 问题集")]),t._v(" "),e("h2",{attrs:{id:"_1-vue-router-异步加载导致菜单卡顿问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-vue-router-异步加载导致菜单卡顿问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. vue-router 异步加载导致菜单卡顿问题")]),t._v(" "),e("p",[t._v("使用vue 懒加载，发现路由加载时才会加载相应js， 但是等js 加载完路由才会改变，导致监听路由的菜单出现了上一次active 先展开再收缩的问题。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("export default {\n  path: '/twoLevelPage',\n  meta: {\n    name: '二级页面'\n  },\n  component: () => import('@/views/twoLevelPage/Main'),\n  children: [\n    {\n      path: '/',\n      redirect: 'banner'\n    },\n    {\n      path: 'banner',\n      meta: {\n        name: '分类banner'\n      },\n      component: () => import('@/views/twoLevelPage/Banner'),\n      children: [\n        {\n          path: '/',\n          meta:{\n            keepAlive:true\n          },\n          component: () => import('@/views/twoLevelPage/banner/home/Home')\n        },\n        {\n          path: 'create',\n          name:'创建推荐海报',\n          component: () =>import('@/views/twoLevelPage/banner/create/Create')\n        },\n        {\n          path: 'detail/:id',\n          name: 'banner详情',\n          component: () =>import('@/views/twoLevelPage/banner/detail/Detail')\n        },\n        {\n          path: 'update/:id',\n          name:'修改banner',\n          component: () =>import('@/views/twoLevelPage/banner/update/Update')\n        }\n      ]\n    }\n  ]\n}\n")])])]),e("p",[t._v("解决过程：")]),t._v(" "),e("ol",[e("li",[t._v("抖动其实是菜单其他模块先展开在收缩")]),t._v(" "),e("li",[t._v("有可能的地方是最近修改的异步路由")]),t._v(" "),e("li",[t._v("修改进行测试")]),t._v(" "),e("li",[t._v("解决思路")])]),t._v(" "),e("ul",[e("li",[t._v("1 不使用路由懒加载")]),t._v(" "),e("li",[t._v("2 不再使用通过路由来展开菜单的方案，（最终采用）")])]),t._v(" "),e("h2",{attrs:{id:"_2-vue-v-model-组件使用过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-vue-v-model-组件使用过程","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. vue v-model 组件使用过程")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("    props: {\n      value: {\n        type: Boolean,\n        default: false\n      }\n    },\n    watch: {\n      value(val) {\n        this.visible = val;\n      }\n    },\n")])])]),e("p",[t._v("使用computed 不能再内部更新visible,所以使用watch")]),t._v(" "),e("h2",{attrs:{id:"_3-vue-组件prop-对象watch-使用过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-vue-组件prop-对象watch-使用过程","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. vue 组件prop 对象watch 使用过程")]),t._v(" "),e("p",[t._v("options 设置default 为{} 无法监听options")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("       props:{\n         options: {\n                type: Object,\n            }\n        },\n        watch:{\n            options(val){\n            }\n        },\n")])])]),e("h2",{attrs:{id:"_4-写代码方便复用的一些小技巧"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-写代码方便复用的一些小技巧","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. 写代码方便复用的一些小技巧")]),t._v(" "),e("p",[t._v("代码归类，字段名不使用业务名。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' //common\n      showCoverImg: false,\n      imgShow: "",\n      errorImg:`this.src="${G.errorImg}"`,\n      \n      activePoster:\'\',\n      //table\n      keyword:\'\',\n      loading:false,\n      sortMark: "",\n      pagination: {\n        pageNum: 1,\n        pageSize: 10\n      },\n')])])]),e("h2",{attrs:{id:"_5-vue-的数组更新监听问题-实践中结合v-model-经常出问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-vue-的数组更新监听问题-实践中结合v-model-经常出问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 5. vue 的数组更新监听问题,实践中结合v-model 经常出问题")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  data:{\n    appList:[]\n  },\n  mounted(){\n    this.appList=[{id:1,name:'cc'}];\n    //dom 无法监听\n    this.appList[0].age=18;\n\t\n\t\n\tthis.appList=[];\n\tthis.appList=[{\n\tname:'1'\n\t}];\n\t//界面更新\n\n\tthis.appList[0].name='2'\n\t//界面不更新\n\t\n\t\n\tappCollection: {\n          apps: []\n    },\n\tappCollection.apps=[{age:1}], 这样才有更新\n\t\n  }\n  \n  \n")])])]),e("p",[t._v("暂时的解决方案是：在数组里一开始就定义一个age.")]),t._v(" "),e("h2",{attrs:{id:"_6-iview-change-中文输入法时拼音也会触发请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-iview-change-中文输入法时拼音也会触发请求","aria-hidden":"true"}},[t._v("#")]),t._v(" 6. iview @change 中文输入法时拼音也会触发请求")]),t._v(" "),e("p",[t._v("一开始想用compositionStart 和 compositionEnd 解决，奈何Input native 监")]),t._v(" "),e("p",[t._v("听不到 这2个事件")]),t._v(" "),e("p",[t._v("后面采用了另一种方案，使用定时器限制500ms 没输入才查询，跟防抖动原理一致，代码如下")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("      \tthis.serachTimeout&&clearTimeout(this.serachTimeout);\n\t\t\t\tthis.serachTimeout=setTimeout(()=>{\n\t\t\t\t\tthis.$set(this.pagination, 'pageNum', 1);\n\t\t\t\t\tthis.getData();\n\t\t\t\t},500);\n")])])]),e("h2",{attrs:{id:"_7-关于cjs-与-es-的一点比较"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-关于cjs-与-es-的一点比较","aria-hidden":"true"}},[t._v("#")]),t._v(" 7. 关于cjs 与 es 的一点比较")]),t._v(" "),e("p",[t._v("ES模块是官方标准，也是JavaScript语言明确的发展方向，而CommonJS模块是一种特殊的传统格式，在ES模块被提出之前做为暂时的解决方案。 ES模块允许进行静态分析，从而实现像 tree-shaking 的优化，并提供诸如循环引用和动态绑定等高级功能。")]),t._v(" "),e("h2",{attrs:{id:"_8-css-有时会造成显示卡顿"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-css-有时会造成显示卡顿","aria-hidden":"true"}},[t._v("#")]),t._v(" 8. css 有时会造成显示卡顿")]),t._v(" "),e("p",[t._v("使用动画，或者图片懒加载时都遇到过。把样式改好就没问题了。")]),t._v(" "),e("h2",{attrs:{id:"_9-跨域-iframe-的高度自适应问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-跨域-iframe-的高度自适应问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 9. 跨域 iframe 的高度自适应问题")]),t._v(" "),e("p",[t._v("业务场景： 所有系统日志页面使用"),e("strong",[t._v("外链")]),t._v("方式")]),t._v(" "),e("p",[e("strong",[t._v("好处： 修改日志页面时修改一处地方,所有项目都会得到更新")])]),t._v(" "),e("blockquote",[e("p",[t._v("问题：在一级域名一致的情况下，强制将里外的domain 都设为一致， 这样就可以访问到外部的iframe,iframe 使用存在的问题是fixed 不会相对浏览器，内外通信会有问题。")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("                let host = window.location.hostname,\n                    hosts = host.split('.');\n                hosts.shift();\n                document.domain = hosts.join('.');\n                this.parentVueObj = window.parent.vueObj;\n")])])]),e("h2",{attrs:{id:"_10-form-表单最后一行有2列，最后一行不用下边界线"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-form-表单最后一行有2列，最后一行不用下边界线","aria-hidden":"true"}},[t._v("#")]),t._v(" 10. form 表单最后一行有2列，最后一行不用下边界线")]),t._v(" "),e("blockquote",[e("p",[t._v("问题 form 表单最后一行有2列，最后一行不用下边界线，主要自适应时处理")])]),t._v(" "),e("p",[t._v("一开始想用栅格布局写一种，后面发现2种方法，")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("用了媒体查询")])]),t._v(" "),e("li",[e("p",[t._v("js 监听body 变化然后添加class 设置样式。")])])]),t._v(" "),e("p",[t._v("解决过程中发现debounce 和 throttle 防抖节流插件， 都是基于定时器实现。")]),t._v(" "),e("h2",{attrs:{id:"_11-iframe-的使用问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-iframe-的使用问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 11. iframe 的使用问题")]),t._v(" "),e("p",[t._v("1 跨域不可通信，除非主域名一致")]),t._v(" "),e("p",[t._v("2 样式问题。 宽高自适应需要手动设置")]),t._v(" "),e("p",[t._v("3 弹框问题，弹框没有办法相对整个屏幕。。")]),t._v(" "),e("p",[t._v("好处，设计得好可以多个地方引用")]),t._v(" "),e("h2",{attrs:{id:"_12-promise-all-同时等2个axios-完成，貌似时机不完全正确，"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_12-promise-all-同时等2个axios-完成，貌似时机不完全正确，","aria-hidden":"true"}},[t._v("#")]),t._v(" 12. Promise.all() 同时等2个axios 完成，貌似时机不完全正确，")]),t._v(" "),e("p",[t._v("对 Object.keys(res) 总是[] ,打印res 结果又是对的，不可思议")]),t._v(" "),e("p",[t._v("校验方法果然很重要，一开始一直在all 那里打，证据不明显，后面 all 和 子 项目都打印，从顺序就看出来了，确实是all 没生效，里面写的没用promise .花了我半个小时")]),t._v(" "),e("h2",{attrs:{id:"_13-下载-excel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_13-下载-excel","aria-hidden":"true"}},[t._v("#")]),t._v(" 13. 下载 excel")]),t._v(" "),e("p",[t._v("平时都是直接get 放在标签或者 window.location.href 里。")]),t._v(" "),e("p",[t._v("如果后台用post 接口 ，返回之后取到对应的编码 然后同上，放进a 标签里。")]),t._v(" "),e("p",[t._v("有一个问题。1 万条数据大概要下载多久。")]),t._v(" "),e("h2",{attrs:{id:"_14-直接在浏览器中运行-import，-export"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_14-直接在浏览器中运行-import，-export","aria-hidden":"true"}},[t._v("#")]),t._v(" 14. 直接在浏览器中运行 import， export")]),t._v(" "),e("p",[e("code",[t._v('<script type="module">')]),t._v(" ,前提需要origin ,直接打开不可以")]),t._v(" "),e("h2",{attrs:{id:"_15-vue-router-的-redirect-疑惑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_15-vue-router-的-redirect-疑惑","aria-hidden":"true"}},[t._v("#")]),t._v(" 15. vue-router 的 redirect 疑惑")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("结论")]),t._v(" "),e("p",[t._v("采用redirect，但设置的组件是可以起作用的，跳到子元素的时候，组件起作用，跳到非子路由时不起作用。")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  path: 'appActiveDatas',\n meta: {\n   name: '活跃数据'\n },\n component: RouterView,\n redirect:'appActiveDatas/generalSituation',\n children: [\n   {\n     path: 'generalSituation',\n     name: '概况',\n     component: GeneralSituation\n   },\n")])])]),e("h2",{attrs:{id:"_16-路由用了keep-alive，生命周期执行异常"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_16-路由用了keep-alive，生命周期执行异常","aria-hidden":"true"}},[t._v("#")]),t._v(" 16. 路由用了keep-alive，生命周期执行异常")]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("问题")]),t._v(" "),e("p",[t._v("刷新子页面keep-alive 也重新进入mounted, 技能问题：对生命周期的理解不够深刻,最后以怪事结尾")])]),t._v(" "),e("h2",{attrs:{id:"_17-在写一个动态校验页的时候不知所措"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_17-在写一个动态校验页的时候不知所措","aria-hidden":"true"}},[t._v("#")]),t._v(" 17. 在写一个动态校验页的时候不知所措")]),t._v(" "),e("p",[t._v("表单校验问题其实复杂的写过一个，时间太久又不会写了,复习后基本表单没什么问题。复杂表单等遇到在处理")]),t._v(" "),e("h2",{attrs:{id:"_18-this-遇到的一个问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_18-this-遇到的一个问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 18. this 遇到的一个问题")]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("问题")]),t._v(" "),e("p",[t._v("暂时知道现象，原理还无法解释")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  vue data\n        generalData: {\n          taskTotal: '',\n          pushCount: '',\n          finishCount: ''\n        },\n        dddd:this,\n        a:this.dateOption,\n        dateArrange: [startTime, endTime],\n        dateOption: {\n          disabledDate(date) {\n            return date && date.valueOf() > Date.now();\n          },\n           shortcuts: [\n            {\n                text: '今天',\n                value:this.test\n            }\n           ]\n        },\n\n           value:this.test   这种解决方法以后有用\n\n")])])]),e("h2",{attrs:{id:"_19-tbody-不可设置border"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_19-tbody-不可设置border","aria-hidden":"true"}},[t._v("#")]),t._v(" 19. tbody 不可设置border")]),t._v(" "),e("h2",{attrs:{id:"_20-width-和-max-width-，min-width-对于自适应很重要"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_20-width-和-max-width-，min-width-对于自适应很重要","aria-hidden":"true"}},[t._v("#")]),t._v(" 20. width 和 max-width ，min-width 对于自适应很重要")]),t._v(" "),e("p",[t._v("写样式 要考虑的 地方， 字体大小，边框，溢出等问题，粗细 细节问题很重要。")]),t._v(" "),e("h2",{attrs:{id:"_21-webview-调试js-问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_21-webview-调试js-问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 21. webview 调试js 问题")]),t._v(" "),e("p",[t._v("chrome://inspect/#devices + 模拟器 404  找不到页面.")]),t._v(" "),e("p",[t._v("weinre 失败,")]),t._v(" "),e("p",[t._v("chrome +真机， 真机没chrome ,尴尬。")]),t._v(" "),e("p",[t._v("解决方案：没有翻墙的原因")]),t._v(" "),e("h2",{attrs:{id:"_22-webpack-路径多使用相对路径-，当前目录不能用-style-，而是用-style-不然找不到"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_22-webpack-路径多使用相对路径-，当前目录不能用-style-，而是用-style-不然找不到","aria-hidden":"true"}},[t._v("#")]),t._v(" 22. webpack 路径多使用相对路径  ，当前目录不能用 style/  ，而是用 ./style  ,不然找不到")]),t._v(" "),e("h2",{attrs:{id:"_23-表单中的校验问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_23-表单中的校验问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 23. 表单中的校验问题")]),t._v(" "),e("p",[t._v("例如iview 中表单校验是集成了 async-validate 插件，实际应用时是非常灵活的，有时候tab 需要 或满足，有时需要 与满足， 这些代码编写过程中都有小技巧可以去实现，对于新手就会觉得有困难。")]),t._v(" "),e("h2",{attrs:{id:"_24-设计路由的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_24-设计路由的问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 24.设计路由的问题")]),t._v(" "),e("p",[t._v("在实践中对嵌套路由一直有些混乱，主要是位置和路由映射关系。单个的话很简单，多个的话要设计出一致的router-view 比较难，3级菜单和2级菜单 需要的router-view 的个数不一样。已经是第三次混乱了。目前觉得结合需求一级一级往下拓展较好。")]),t._v(" "),e("p",[t._v("终于明白了。。。")]),t._v(" "),e("p",[t._v("关于redirect / 的用法。")]),t._v(" "),e("p",[t._v("值得纪念的日子 2018/12/26日")])])}],!1,null,null,null);n.options.__file="3question.md";a.default=n.exports}}]);