(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{169:function(e,n,t){"use strict";t.r(n);var o=t(0),r=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"koa-router路由中间件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#koa-router路由中间件","aria-hidden":"true"}},[this._v("#")]),this._v(" koa-router路由中间件")]),this._v(" "),n("p",[n("strong",[this._v("类比jsp 的请求路径和 mvvm 的 路由很容易理解")])]),this._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v("/**\n * Description 使用koa-router 中间件来实现router\n * @authors fanjiongrong (fanjiongrong@tvflnet.com)\n * @date    2018-10-29 11:42:41\n * @version 1.0.0\n */\n\nconst Koa = require('koa');\nconst app = new Koa();\n\nconst Router = require('koa-router');\n//子路由1\nlet home = new Router();\nhome.get('/', async ctx => {\n  let html = `\n        <ul>\n            <li>\n                <a href=\"/page/helloworld\">\n                    /page/helloworld\n                </a>\n            </li>\n            <li>\n                <a href=\"/page/404\">\n                    /page/404\n                </a>\n            </li>\n        </ul>\n    `;\n    ctx.body=html;\n});\n//子路由2\nlet page = new Router();\n\npage\n  .get('/404', async ctx => {\n    ctx.body = '404 page!';\n  })\n  .get('/helloworld', async ctx => {\n    ctx.body = 'helloworld page!';\n  });\n\n  //装载所有子路由\n  let router=new Router();\n  router.use('/',home.routes(),home.allowedMethods);\n  router.use('/page',page.routes(),page.allowedMethods);\n\n  //加载路由中间件\n\n  app.use(router.routes()).use(router.allowedMethods);\n\n  app.listen(3000,()=>{\n      console.log('koa-router-demo is starting at port 3000')\n      console.log('http://localhost:3000');\n  })\n\n")])])])])}],!1,null,null,null);r.options.__file="7koaRouter.md";n.default=r.exports}}]);