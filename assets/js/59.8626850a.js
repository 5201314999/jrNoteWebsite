(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{165:function(e,s,t){"use strict";t.r(s);var o=t(0),n=Object(o.a)({},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"content"},[e._m(0),e._v(" "),t("p",[e._v("使用比较简单，同原生js 的一样")]),e._v(" "),e._m(1),e._v(" "),t("p",[e._v("koa2 中操作的cookies是使用了npm的cookies模块，源码在"),t("a",{attrs:{href:"https://github.com/pillarjs/cookies",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/pillarjs/cookies"),t("OutboundLink")],1),e._v("，所以在读写cookie的使用参数与该模块的使用一致。")]),e._v(" "),e._m(2),e._m(3)])},[function(){var e=this.$createElement,s=this._self._c||e;return s("h1",{attrs:{id:"koa2-cookies，session"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#koa2-cookies，session","aria-hidden":"true"}},[this._v("#")]),this._v(" koa2 cookies，session")])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"cookies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookies","aria-hidden":"true"}},[this._v("#")]),this._v(" cookies")])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("const Koa=require('koa');\nconst app=new Koa();\n\napp.use(async (ctx)=>{\n   if(ctx.url==='/index'){\n       ctx.cookies.set('name','dd', {\n           domain: 'localhost',  // 写cookie所在的域名\n           path: '/',       // 写cookie所在的路径\n           maxAge: 10 * 60 * 1000, // cookie有效时长\n           expires: new Date('2019-02-15'),  // cookie失效时间\n           httpOnly: false,  // 是否只用于http请求中获取\n           overwrite: false  // 是否允许重写\n         });\n       ctx.body='cookies is ok';\n       \n       setTimeout(()=>{\n           const name=ctx.cookies.get('name');\n           console.log(name);\n           ctx.body=`获取cookies-name:${name}`;\n       },2000);\n   }\n   else {\n       ctx.body=\"you are wrong\";\n   }\n})\n\napp.listen(3000,()=>{\n   console.log('[koa cookies] is starting up at port 3000');\n   console.log('http://localhost:3000');\n});\n\n")])])])},function(){var e=this.$createElement,s=this._self._c||e;return s("h2",{attrs:{id:"session"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#session","aria-hidden":"true"}},[this._v("#")]),this._v(" session")])}],!1,null,null,null);n.options.__file="9koaCookiesAndSession.md";s.default=n.exports}}]);